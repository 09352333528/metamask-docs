"use strict";(self.webpackChunkmetamask_docs=self.webpackChunkmetamask_docs||[]).push([[3316],{3905:(e,n,a)=>{a.d(n,{Zo:()=>m,kt:()=>d});var t=a(67294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),p=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},m=function(e){var n=p(e.components);return t.createElement(l.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},v=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=p(a),v=r,d=c["".concat(l,".").concat(v)]||c[v]||u[v]||i;return a?t.createElement(d,o(o({ref:n},m),{},{components:a})):t.createElement(d,o({ref:n},m))}));function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=v;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return t.createElement.apply(null,o)}return t.createElement.apply(null,a)}v.displayName="MDXCreateElement"},81730:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var t=a(87462),r=(a(67294),a(3905));const i={sidebar_position:3},o="Use environment variables",s={unversionedId:"how-to/use-environment-variables",id:"how-to/use-environment-variables",title:"Use environment variables",description:"You can use environment variables to compile your Snap.",source:"@site/snaps/how-to/use-environment-variables.md",sourceDirName:"how-to",slug:"/how-to/use-environment-variables",permalink:"/746-snaps-env-vars/snaps/how-to/use-environment-variables",draft:!1,editUrl:"https://github.com/MetaMask/metamask-docs/edit/main/snaps/how-to/use-environment-variables.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"snapsSidebar",previous:{title:"Communicate errors",permalink:"/746-snaps-env-vars/snaps/how-to/communicate-errors"},next:{title:"Design a Snap installation flow",permalink:"/746-snaps-env-vars/snaps/how-to/design-a-snap"}},l={},p=[{value:"Use environment variables on the command line",id:"use-environment-variables-on-the-command-line",level:2},{value:"Use environment variables in a <code>.env</code> file",id:"use-environment-variables-in-a-env-file",level:2}],m={toc:p},c="wrapper";function u(e){let{components:n,...a}=e;return(0,r.kt)(c,(0,t.Z)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"use-environment-variables"},"Use environment variables"),(0,r.kt)("p",null,"You can use environment variables to compile your Snap.\nThis is useful if you want to use different variables for testing your Snap locally and publishing\nyour Snap.\nYou can use environment variables ",(0,r.kt)("a",{parentName:"p",href:"#use-environment-variables-on-the-command-line"},"on the command line"),"\nor ",(0,r.kt)("a",{parentName:"p",href:"#use-environment-variables-in-a-env-file"},"in a ",(0,r.kt)("inlineCode",{parentName:"a"},".env")," file"),"."),(0,r.kt)("h2",{id:"use-environment-variables-on-the-command-line"},"Use environment variables on the command line"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Specify environment variables on the command line.\nFor example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"PUBLIC_KEY=abc123 SNAP_ENV=dev\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Build your Snap using the ",(0,r.kt)("a",{parentName:"p",href:"/746-snaps-env-vars/snaps/reference/cli/subcommands"},"Snaps CLI"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn mm-snap build\n")))),(0,r.kt)("h2",{id:"use-environment-variables-in-a-env-file"},"Use environment variables in a ",(0,r.kt)("inlineCode",{parentName:"h2"},".env")," file"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Specify environment variables in a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file.\nFor example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text",metastring:'title=".env"',title:'".env"'},"PUBLIC_KEY=abc123\nSNAP_ENV=dev\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/hughsk/envify"},(0,r.kt)("inlineCode",{parentName:"a"},"envify"))," package using Yarn or npm:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add envify\n")),(0,r.kt)("p",{parentName:"li"},"or"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install envify\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Use the environment variables in your Snap's\n",(0,r.kt)("a",{parentName:"p",href:"/746-snaps-env-vars/snaps/learn/about-snaps/files#configuration-file"},"configuration file")," by modifying the bundler object.\nFor example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-javascript",metastring:'title="snap.config.js"',title:'"snap.config.js"'},'const envify = require("envify/custom");\nrequire("dotenv").config();\n\nmodule.exports = {\n    cliOptions: {\n        src: "./src/index.ts",\n        port: 8080,\n    },\n    bundlerCustomizer: (bundler) => {\n        bundler.transform(\n            envify({\n                SNAP_ENV: process.env.SNAP_ENV,\n                PUBLIC_KEY: process.env.PUBLIC_KEY,\n            }),\n        );\n    },\n};\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You can also use environment variables directly in your Snap.\nFor example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="index.ts"',title:'"index.ts"'},'import { panel, text, heading } from \'@metamask/snaps-ui\';\n\nawait snap.request({\n    method: "snap_dialog",\n    params: {\n        type: "Alert",\n        content: panel([\n            heading("This custom alert is just for display purposes."),\n            text("SNAP_ENV is ${process.env.SNAP_ENV}, PUBLIC_KEY is ${process.env.PUBLIC_KEY}"),\n        ]),\n    },\n});\n')))))}u.isMDXComponent=!0}}]);