"use strict";(self.webpackChunkmetamask_docs=self.webpackChunkmetamask_docs||[]).push([[6752],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(n),h=r,m=u["".concat(c,".").concat(h)]||u[h]||d[h]||o;return n?a.createElement(m,l(l({ref:t},p),{},{components:n})):a.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},15239:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const o={description:"Configure and connect to a Ganache development network.",sidebar_position:2},l="Run a development network",i={unversionedId:"how-to/get-started-building/run-devnet",id:"how-to/get-started-building/run-devnet",title:"Run a development network",description:"Configure and connect to a Ganache development network.",source:"@site/wallet/how-to/get-started-building/run-devnet.md",sourceDirName:"how-to/get-started-building",slug:"/how-to/get-started-building/run-devnet",permalink:"/ganache-to-hardhat/wallet/how-to/get-started-building/run-devnet",draft:!1,editUrl:"https://github.com/MetaMask/metamask-docs/edit/main/wallet/how-to/get-started-building/run-devnet.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{description:"Configure and connect to a Ganache development network.",sidebar_position:2},sidebar:"walletSidebar",previous:{title:"Set up your development environment",permalink:"/ganache-to-hardhat/wallet/how-to/get-started-building/set-up-dev-environment"},next:{title:"Secure your dapp",permalink:"/ganache-to-hardhat/wallet/how-to/get-started-building/secure-dapp"}},c={},s=[{value:"Connect to Hardhat",id:"connect-to-hardhat",level:2},{value:"Reset your local nonce calculation",id:"reset-your-local-nonce-calculation",level:2},{value:"Next steps",id:"next-steps",level:2}],p={toc:s},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"run-a-development-network"},"Run a development network"),(0,r.kt)("p",null,"You can run a personal Ethereum development network using ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/"},"Hardhat"),",\nwhich allows you to develop a dapp in a secure test environment."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"When using a local development blockchain such as Hardhat or\n",(0,r.kt)("a",{parentName:"p",href:"https://book.getfoundry.sh/anvil/#overview-of-anvil"},"anvil"),", your node must calculate gas to make\ntransactions on MetaMask.")),(0,r.kt)("h2",{id:"connect-to-hardhat"},"Connect to Hardhat"),(0,r.kt)("p",null,"Follow the ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/hardhat-runner/docs/getting-started#quick-start"},"Hardhat Quick Start"),"\nto set up a Hardhat development network."),(0,r.kt)("p",null,"In your ",(0,r.kt)("inlineCode",{parentName:"p"},"hardhat.config.js")," file, specify your\n",(0,r.kt)("a",{parentName:"p",href:"https://support.metamask.io/hc/en-us/articles/360015290032-How-to-reveal-your-Secret-Recovery-Phrase"},"MetaMask seed phrase"),"\nin the ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/hardhat-network/docs/reference#accounts"},(0,r.kt)("inlineCode",{parentName:"a"},"accounts"))," field of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"networks.hardhat")," configuration:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="hardhat.config.js"',title:'"hardhat.config.js"'},'module.exports = {\n  networks: {\n    hardhat: {\n      accounts: {\n        mnemonic: "<your MetaMask seed phrase>",\n      },\n    },\n  },\n};\n')),(0,r.kt)("p",null,"Hardhat automatically gives each of your first 20 accounts 10000 test ether (you can modify\nthese numbers in the ",(0,r.kt)("a",{parentName:"p",href:"https://hardhat.org/hardhat-network/docs/reference#accounts"},(0,r.kt)("inlineCode",{parentName:"a"},"accounts")),"\nconfiguration), which makes it easy to start development."),(0,r.kt)("admonition",{title:"important",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Your seed phrase controls all your accounts, so we recommend keeping at least one seed phrase for\ndevelopment, separate from any used to store real value.\nYou can manage multiple seed phrases by using multiple browser profiles, each with its own\nMetaMask installation.")),(0,r.kt)("p",null,"To run a Hardhat development network and expose a JSON-RPC interface, run ",(0,r.kt)("inlineCode",{parentName:"p"},"npx hardhat node"),".\nYou can now connect MetaMask to your development network RPC URL, ",(0,r.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:8545/"),"."),(0,r.kt)("p",null,"In the MetaMask extension:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In the upper left corner, select the network you're currently connected to."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Add network"),"."),(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Add a network manually"),"."),(0,r.kt)("li",{parentName:"ol"},"Enter the RPC URL of your Hardhat network, ",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:8545/"),"."),(0,r.kt)("li",{parentName:"ol"},"Enter MetaMask's default chain ID for Hardhat, ",(0,r.kt)("inlineCode",{parentName:"li"},"31337"),".")),(0,r.kt)("h2",{id:"reset-your-local-nonce-calculation"},"Reset your local nonce calculation"),(0,r.kt)("p",null,"If you restart your development network, you can accidentally confuse MetaMask\nbecause it calculates the next ",(0,r.kt)("a",{parentName:"p",href:"/ganache-to-hardhat/wallet/how-to/send-transactions#nonce"},"nonce")," based on both the\nnetwork state ",(0,r.kt)("em",{parentName:"p"},"and")," the known sent transactions."),(0,r.kt)("p",null,"To clear MetaMask's transaction queue and reset its nonce calculation, go to ",(0,r.kt)("strong",{parentName:"p"},"Settings > Advanced"),"\nand select ",(0,r.kt)("strong",{parentName:"p"},"Reset account"),"."),(0,r.kt)("h2",{id:"next-steps"},"Next steps"),(0,r.kt)("p",null,"Once you have your development environment set up and development network running, you can\n",(0,r.kt)("a",{parentName:"p",href:"/wallet/how-to/connect"},"connect to MetaMask")," by setting up MetaMask SDK, detecting MetaMask, detecting a user's\nnetwork, and accessing a user's accounts."),(0,r.kt)("p",null,"For an end-to-end example, you can also follow the\n",(0,r.kt)("a",{parentName:"p",href:"/ganache-to-hardhat/wallet/tutorials/react-dapp-local-state"},"Create a simple React dapp")," tutorial."))}d.isMDXComponent=!0}}]);